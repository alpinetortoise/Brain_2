:PROPERTIES:
:ID:       98e285ea-850f-487b-9580-5d648556e546
:END:
#+Title: CCNA 1: Introduction to Networks
* Module 1: Networking Today
* Module 2: Basic Switch and End Device Configuration
** [[../ref/CISCOIOS.org][IOS CMD]]
** [[id:86d4385f-17dc-4894-ac15-790d413c0396][Lab 1]]
* Module 3: Protocols and Models
** OSI model
Open Systems Interconnection
*** [[Module 4: Physical Layer][Physical]]
- Bit, [[id:31dc8662-c0c9-4c86-b5e2-2d71950a5696][Symbols]]
  While traditionally the physical layer is thought of simply in bits, as networks became more complex the number of symbols being transmitted increased and these symbols represented more bits. Eg. a voltage of .5V being read as 0101
**** Technologies
- Cu Twisted Pair
  - RJ - Registered Jack
- Coaxial
  - BNC connector
- 802.11 (WiFi) 2.4GHz and 5GHz bands
*** Data Link
- Frame
**** Technologies
**** Devices
- Switches
*** Network
*** Transport
*** Session
*** Presentation
*** Application
** Protocol Data Unit
1. Bits, Bitstream
2. [[Data Link Frame][Frames]]
3. Packets
4. Segments
5. Data Stream
** Port Numbers
| Protocol | TCP/UDP |                    Port |
|----------+---------+-------------------------|
| HTTP     | TCP     |                      80 |
| FTP      | TCP     |                      21 |
| SNMP     | UDP     |                     161 |
| SMTP     | UDP     |                      25 |
| Telnet   | TCP     |                      23 |
| SSH      | TCP     |                      22 |
| TFTP     | UDP     |                      69 |
| HTTPS    | TCP     |                     443 |
| DHCP     | UDP     |                   67/68 |
| DHCP v6  | UDP     |                     546 |
| CDP      | L2      |                       - |
| DNS      | TCP/UDP |                      53 |
| NETBIOS  | TCP/UDP |    UDP:137/138, TCP:139 |
| RDP      | TCP     |                    3389 |
| POP3     | TCP     |      110, 995 (SSL/TLS) |
| IMAP     | TCP     | 143, 220, 993 (SSL/TLS) |
| ISAKMP   | UDP     |                     500 |
| SYSLOG   | UDP     |                     514 |
| RADIUS   | UDP     |               1812,1813 |
| NTP      | UDP     |                     123 |
| BOOTPC   | UDP     |                   67,68 |
* Module 4: Physical Layer
** [[./labs/Lab46.org][Lab 4.6]]
* Module 5: Numbers
** [[id:11479383-6225-4738-8e35-40a21602dc53][An excursus on bases]]
** Binary to Decimal
#+BEGIN_SRC emacs-lisp
  (+ (* 128 1)
   (+ (* 64 0)
      (+ (* 32 0)
         (+ (* 16 1)
            (+ (* 8 0)
               (+ (* 4 1)
                  (+ (* 2 0)
                     (+ (* 1 1)))))))))
#+END_SRC
** Hex to Decimal
#+BEGIN_SRC emacs-lisp
(+ (* 3 16) 15)
#+END_SRC
** Decimal to Binary
#+BEGIN_SRC javascript
function toBin(d) {
  var r = d % 2;
  if (d - r == 0) {
    return toChar(r);
  }
  return toBin((d - r) / 16) + toChar(r);
}

function toChar(n) {
  const alpha = "01";
  return alpha.charAt(n);
}
#+END_SRC
** Decimal to Hex
#+BEGIN_SRC javascript
function toHex(d) {
  var r = d % 16;
  if (d - r == 0) {
    return toChar(r);
  }
  return toHex((d - r) / 16) + toChar(r);
}

function toChar(n) {
  const alpha = "0123456789ABCDEF";
  return alpha.charAt(n);
}
#+END_SRC
* Data Link Layer
** Module 6: Data Link Layer
*** Topologies
 - Physical topology shows the physical location of the devices
 - Logical topology shows the Network details ([[Network Layer][L3]])
**** WAN Topologies
 - Point-to-Point
 - Hub and spoke
 - Mesh
**** Lan Topologies
 - Star
 - Extended Star
 - Bus
 - Ring
**** Duplex
When the media is shared collisions can occur. Duplexing is the first consideration of this problem.
*Half-duplex* means that one device can talk at a time, the same media that is used to transmit is also used to receive. This could happen through for instance all data pairs of UTP being used for Tx/Rx
*Full-duplex* communication can happen simultaneously in either direction. eg half of the data pairs being used for Tx and half being used for Rx.
**** Access Control
A multi access network can have two or more end devices attempting to access the network simultaneously. These need rules to govern how devices share the media. There are a number of different ways for access to be controlled. For LANs the two main methods are:
 - *Contention-based Access -* devices compete for the use of the medium, only one device can send at a time.
   - *Carrier Sense Multiple Access with Collision Detection (CSMA/CD)*
   - *Carrier Sense Multiple Access with Collision Avoidance (CSMA/CA)*
 - *Controlled Access -* each node has its own time to use the medium.
*** Data Link Frame
| Header | Data | Trailer |

| Frame Start | Addressing | Type | Control | Data | Error Detection | Frame Stop |
** Module 7: Ethernet Switching
 - [[Address Resolution Protocol][ARP]]
 - [[Neighbour Discovery]] - ARP in IPv6
*** [[./labs/Lab716.org][Lab - Wireshark]]
*** Forwarding
 - Cut through
   - Fast-forward - Dest Addr only
   - Fragment Free - first 64 bits
 - Store and forward
* Network Layer
** Module 8: Network Layer
*** IPv4 Header
| Byte 1                         | Byte 2       | Byte 3             | Byte 4          |
|--------------------------------+--------------+--------------------+-----------------|
| Version/Internet Header Length | DS           |                    |                 |
|                                | DSCP/ECN     | <- Total Length    | ->              |
|--------------------------------+--------------+--------------------+-----------------|
| <- Identification              | ->           | Flag               | Fragment Offset |
|--------------------------------+--------------+--------------------+-----------------|
| Time-to-Live                   | Protocol     | <- Header Checksum | ->              |
|--------------------------------+--------------+--------------------+-----------------|
| <-                             | Src IP Addr  |                    | ->              |
|--------------------------------+--------------+--------------------+-----------------|
| <-                             | Dest IP Addr |                    | ->              |
|--------------------------------+--------------+--------------------+-----------------|
*** IPv6 Header
N.B. IPv6 was first introduced in 1995, IPv4 is not going anywhere

| 0x 1    | 0x 2             | 0x 3 | 0x 4         | 0x 5           | 0x 6       | 0x 7         | 0x 8 |
|---------+------------------+------+--------------+----------------+------------+--------------+------|
| Version | <- Traffic Class | ->   | <-           |                | Flow Label |              | ->   |
|---------+------------------+------+--------------+----------------+------------+--------------+------|
| <-      | Payload Length   |      | ->           | <- Next Header | ->         | <- Hop Limit | ->   |
|---------+------------------+------+--------------+----------------+------------+--------------+------|
| <-      |                  |      | Src IP Addr  |                |            |              | ->   |
|         |                  |      |              |                |            |              |      |
|         |                  |      |              |                |            |              |      |
|---------+------------------+------+--------------+----------------+------------+--------------+------|
| <-      |                  |      | Dest IP Addr |                |            |              | ->   |
|         |                  |      |              |                |            |              |      |
|         |                  |      |              |                |            |              |      |
|---------+------------------+------+--------------+----------------+------------+--------------+------|
*** Intro to Routing
Dynamic routing protocols
 - *OSPF* - Open Shortest Path First
 - *EIGRP* - Enhanced Interior Gateway Protocol
** Module 9: Address Resolution
*** Address Resolution Protocol
*** Neighbour Discovery
** Module 10: Basic Router Configuration
** Module 11: IPv4 Addressing
 - RFC - Request for Commence

*** Private
| 128 | 64 | 32 | 16 | 8 | 4 | 2 | 1 | Dec |
|-----+----+----+----+---+---+---+---+-----|
|   0 |  0 |  0 |  0 | 1 | 0 | 1 | 0 |  10 |
|   1 |  0 |  1 |  0 | 1 | 1 | 0 | 0 | 172 |
|   0 |  0 |  0 |  1 | 0 | 0 | 0 | 0 |  16 |
|   1 |  1 |  0 |  0 | 0 | 0 | 0 | 0 | 192 |
|   1 |  0 |  1 |  0 | 1 | 0 | 0 | 0 | 168 |

A - A Private
AC:10 - B Private
C0:A8 - C Private

*** Addressing
 - First address of the net/subnet is the network address
 - Last address of the net/subnet is the broadcast address

So for 192.168.1.0/24:
 - 192.168.1.0 is the network address
 - 192.168.1.255 is the broadcast address
*** Subnets
Using CIDR notation the /# represents the number of bits assigned to the network portion of the address
**** 192.168.10.0/27
 1. 192.168.10.0
    - 192.168.10.1  -FUH
    - 192.168.10.30 -LUH
    - 192.168.10.31 -BC
 2. 192.168.10.32
 3. 192.168.10.64
 4. 192.168.10.96
 5. 192.168.10.128
 6. 192.168.10.160
 7. 192.168.10.192
 8. 192.168.10.224
**** 200.10.10.3/28
200.10.10.0/28
**** 200.10.10.210/28
128+64+16
200.10.10.208/28
**** Find broadcast IP
196.16.16.65/29 - 196.16.16.71
196.16.16.97/29 - 196.16.16.103
200.165.10.17/30 - 200.165.10.19
200.165.10.41/30 - 200.165.10.43
64 networks and 2/4 usable hosts
**** Class B subnet
172.16.0.0/17
172.16.0.1
172.16.127.254
172.16.127.255
172.16.128.0/17

2 networks, 2^15 hosts - 2 for BC/N
**** VLSM
10.10.10.10/25
**** Lab 11.9.3
| SN Desc    | Req | Net Addr         |
|------------+-----+------------------|
| Room 114   |  27 | 172.31.103.0/27  |
| Room 279   |  25 | 172.31.103.32/27 |
| Room 312   |  14 | 172.31.103.64/28 |
| Room 407   |   8 | 172.31.103.80/28 |
| R1-R2 Link |   2 | 172.31.103.96/30 |


| Device   | Interface |       IP Addr |     Subnet Mask | Default Gateway | Req | CIDR |
|----------+-----------+---------------+-----------------+-----------------+-----+------|
|          | G0/0      |  172.31.103.1 | 255.255.255.224 |                 |     |      |
| Branch 1 | G0/1      | 172.31.103.33 | 255.255.255.224 |                 |     |      |
|          | S0/0/0    | 172.31.103.97 | 255.255.255.252 |                 |     |      |
|----------+-----------+---------------+-----------------+-----------------+-----+------|
|          | G0/0      | 172.31.103.65 | 255.255.255.240 |                 |     |      |
| Branch 2 | G0/1      | 172.31.103.81 | 255.255.255.240 |                 |     |      |
|          | S0/0/0    | 172.31.103.98 | 255.255.255.252 |                 |     |      |
|----------+-----------+---------------+-----------------+-----------------+-----+------|
| Room 114 |           |  172.31.103.2 | 255.255.255.224 |                 |  27 | /27  |
| Room 279 |           | 172.31.103.34 | 255.255.255.224 |                 |  25 | /27  |
| Room 312 |           | 172.31.103.66 | 255.255.255.240 |                 |  14 | /28  |
| Room 407 |           | 172.31.103.82 | 255.255.255.240 |                 |   8 | /28  |
| PCA      |           |  172.31.103.3 | 255.255.255.224 |                 |     |      |
| PCB      |           | 172.31.103.35 | 255.255.255.224 |                 |     |      |
| PCC      |           | 172.31.103.67 | 255.255.255.240 |                 |     |      |
| PCD      |           | 172.31.103.99 | 255.255.255.240 |                 |     |      |
*** Subnet mask
A subnet mask will return the network address of an IP address through bitwise [[../math/logic.org::AND][AND operation]]

*** [[https://gist.github.com/alpinetortoise/eba8b4f6ea1b08fb0a320ceaf98e48fe][Calculating Subnets]]
** Module 12: IPv6 Addressing
128-bit
*** Address shortening
 1. Omit leading Zeros
 2. (::) can replace any single, contiguous string of one or more 16-bit hextets consisting of all zeros.
    - If an address has more than one contiguous string the first string should use double colon.
** Module 13: ICMP
* Module 14: Transport Layer
* Module 15: Application Layer
* Module 16: Network Security Fundamentals
* Module 17: Build a Small Network
** Skills int Challenge
| Device  | Int    | IP                    | Def Gate   |
|---------+--------+-----------------------+------------|
| R1      | G0/0   | 192.168.0.1 /25       | N/A        |
|         |        | 2001:db8:acad::1/64   |            |
|         |        | fe80::1               |            |
|---------+--------+-----------------------+------------|
|         | G0/1   | 192.168.0.129 /26     | N/A        |
|         |        | 2001:db8:acad:1::1/64 |            |
|         |        | fe80::1               |            |
|---------+--------+-----------------------+------------|
|         | G0/2   | 192.168.0.193 /27     | N/A        |
|         |        | 2001:db8:acad:2::1/63 |            |
|         |        | fe80::1               |            |
|---------+--------+-----------------------+------------|
|         | S0/0/1 | 172.16.1.2/30         | N/A        |
|         |        | 2001:db8:2::1/64      |            |
|         |        | fe80::1               |            |
|---------+--------+-----------------------+------------|
| Central | S0/0/0 | 209.165.200.226/30    | N/A        |
|         |        | 2001:db8:1::1/64      |            |
|         |        | fe80::1               |            |
|---------+--------+-----------------------+------------|
|         | S0/0/1 | 172.16.1.1/30         | N/A        |
|         |        | 2001:db8:2::2/64      |            |
|         |        | fe80::2               |            |
|---------+--------+-----------------------+------------|
| S1      | VLAN1  | 192.168.0.2 /25       |            |
| S2      | VLAN1  | 192.168.0.130 /26     |            |
| S3      | VLAN1  | 192.168.0.194 /27     |            |
|---------+--------+-----------------------+------------|
| Staff   | NIC    | 192.168.0.3 /25       |            |
|         |        | 2001:db8:acad::2/64   | fe80::1    |
|         |        | fe80::2               |            |
|---------+--------+-----------------------+------------|
| Sales   | NIC    | 192.168.0.131 /26     |            |
|         |        | 2001:db8:acad:1::2/64 | fe80::1    |
|         |        | fe80::2               |            |
|---------+--------+-----------------------+------------|
| IT      | NIC    | 192.168.0.195 /27     |            |
|         |        | 2001:db8:acad:2::2/64 | fe80::1    |
|         |        | fe80::2               |            |
|---------+--------+-----------------------+------------|
| Web     | NIC    | 64.100.0.3/29         | 64.100.0.1 |
|         |        | 2001:db8:cafe::3/63   | fe80::1    |
|         |        | fe80::2               |            |

| 128 | 64 | 32 | 16 | 8 | 4 | 2 | 1 |
|     |    |    |    |   |   |   |   |

- IT 25 Hosts
  - 192.168.0.192 /27
- Sales 50 Hosts
  - 192.168.0.128 /26
- Staff 100
  - 192.168.0.0 /25
- Guest 25
  - 192.168.0.224 /27
