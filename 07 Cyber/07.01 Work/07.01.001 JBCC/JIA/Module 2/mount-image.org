:PROPERTIES:
:ID:       175c7fad-77a2-4b42-ae48-f4b4857c733c
:END:
#+Title: Mounting forensic images in Linux
* fat32.dd mount

| Command                                                           | Description                    |
|-------------------------------------------------------------------+--------------------------------|
| sudo mkdir -p ~/Desktop/Images/case_fs                            | Create mount point directory   |
| sudo losetup /dev/loop0 ~/Desktop/fat32.dd                        | Attach image to loop device    |
| sudo mount -o loop,ro ~/Desktop/fat32.dd ~/Desktop/Images/case_fs | Mount image read-only          |
| ls -la case_fs                                                    | List contents of mounted image |
| sudo umount ~/Desktop/images/case_fs                              | Unmount image                  |
| sudo losetup -d /dev/loop0                                        | Detach loop device             |
| sudo losetup -a                                                   | List loop devices              |

* ext4vg.dd mount

| Command                                                            | Description                         |
|--------------------------------------------------------------------+-------------------------------------|
| sudo mount -o loop,ro ~/Desktop/ext4vg.dd ~/Desktop/Images/case_fs | (Direct mount — may fail if LVM) ⚠️ |
| sudo losetup /dev/loop0 ext4vg.dd                                  | Setup loop device                   |
| sudo apt install -y lvm2                                           | Install LVM tools                   |
| sudo vgscan                                                        | Scan for volume groups              |
| sudo vgchange -ay the_knack                                        | Activate volume group               |
| sudo lvscan                                                        | Scan logical volumes                |
| sudo mount -o noexec,nodev,ro /dev/the_knack/my_sharona case_fs    | Mount logical volume                |
| ls -la case_fs                                                     | List contents                       |
| sudo umount case_fs                                                | Unmount volume                      |
| sudo vgchange -an the_knack                                        | Deactivate volume group             |
| sudo losetup -d /dev/loop0                                         | Detach loop                         |
| sudo losetup -l                                                    | List loop devices                   |

* usb.E01 mount

| Command                                                               | Description                       |
|-----------------------------------------------------------------------+-----------------------------------|
| sudo apt update                                                       | Update package index              |
| sudo apt install -y ewf-tools                                         | Install EWF tools                 |
| ewfinfo usb.E01                                                       | Show info about EWF image         |
| ewfverify usb.E01                                                     | Verify EWF image                  |
| sudo ewfmount usb.E01 /home/kali/Desktop/images/case_ewf              | Mount EWF as ewf1 pseudo-device   |
| sudo ls -la /home/kali/Desktop/images/case_ewf                        | List contents                     |
| sudo file /home/kali/Desktop/images/case_ewf/ewf1                     | Identify ewf1 content             |
| sudo mount -o loop,ro /home/kali/Desktop/images/case_ewf/ewf1 case_fs | Attempt to mount ewf1 directly ⚠️ |
| ls -la /home/kali/Desktop/images/case_ewf                             | List contents again               |
| sudo umount case_fs                                                   | Unmount filesystem                |
| sudo umount /home/kali/Desktop/images/case_ewf                        | Unmount EWF                       |
* unknown.E01 mount

| Command                                                                              | Description               |
|--------------------------------------------------------------------------------------+---------------------------|
| ewfverify unknown.E01                                                                | Verify EWF                |
| sudo ewfmount unknown.E01 /home/kali/Desktop/images/case_ewf                         | Mount unknown.E01         |
| sudo mmls /home/kali/Desktop/images/case_ewf/ewf1                                    | Show partition layout     |
| sudo sfdisk -l /home/kali/Desktop/images/case_ewf/ewf1                               | Show partition table      |
| sudo losetup -o $((512*10489856)) /dev/loop0 /home/kali/Desktop/images/case_ewf/ewf1 | Create loop with offset   |
| sudo mount -o noexec,nodev,ro /dev/loop0 /home/kali/Desktop/images/case_fs           | Mount partition at offset |
| sudo ls -la /home/kali/Desktop/images/case_fs                                        | List contents             |
| sudo umount /home/kali/Desktop/images/case_fs                                        | Unmount                   |
| sudo losetup -d /dev/loop0                                                           | Detach loop               |
| sudo umount /home/kali/Desktop/images/case_ewf                                       | Unmount EWF               |
* guestmount mount

| Command                                                                                         | Description             |
|-------------------------------------------------------------------------------------------------+-------------------------|
| sudo apt update                                                                                 | Update package index    |
| sudo apt install -y guestmount                                                                  | Install guestmount      |
| ewfmount unknown.E01 /home/kali/Desktop/images/case_ewf                                         | Mount EWF pseudo-device |
| guestmount --ro -i -a /home/kali/Desktop/images/case_ewf/ewf1 /home/kali/Desktop/images/case_fs | Mount with guestmount   |
| sudo ls -la /home/kali/Desktop/images/case_fs                                                   | List contents           |
| sudo umount /home/kali/Desktop/images/case_fs                                                   | Unmount guestmount      |
| sudo umount /home/kali/Desktop/images/case_ewf                                                  | Unmount EWF             |

* Clean Slate

| Command                                        | Description                             |
|------------------------------------------------|-----------------------------------------|
| sudo umount /home/kali/Desktop/images/case_fs  | Unmount case_fs                         |
| sudo umount /home/kali/Desktop/images/case_ewf | Unmount case_ewf                        |
| sudo losetup -D                                | Detach all loop devices                 |
| sudo losetup -d /dev/loop0                     | Detach specific loop device             |
| sudo losetup -l                                | List current loop device associations   |
